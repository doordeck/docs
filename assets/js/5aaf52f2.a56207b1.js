"use strict";(self.webpackChunkdoordeck_docs=self.webpackChunkdoordeck_docs||[]).push([[9721],{674:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"cloud-api/authentication","title":"Authentication","description":"Doordeck uses tokens to permit access to the API. Doordeck expects for the token to be included in all API requests to","source":"@site/docs/cloud-api/authentication.md","sourceDirName":"cloud-api","slug":"/cloud-api/authentication","permalink":"/cloud-api/authentication","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/cloud-api/introduction"},"next":{"title":"Login (v1)","permalink":"/cloud-api/account/login-v1"}}');var s=n(4848),d=n(8453);const r={sidebar_position:1},c="Authentication",o={},l=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,s.jsx)(t.p,{children:"Doordeck uses tokens to permit access to the API. Doordeck expects for the token to be included in all API requests to\nthe server in a header that looks like the following:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"Authorization: Bearer TOKEN"})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["You must replace ",(0,s.jsx)("code",{children:"TOKEN"})," with your authentication token."]})}),"\n",(0,s.jsxs)(t.p,{children:["Authentication tokens are JSON Web Tokens (JWT) loosely using the OpenID format, they can be examined to determine their\nexpiry date, the user's ID. JSON web tokens are split into three sections separated by a ",(0,s.jsx)(t.code,{children:"."}),", the header, payload and\nsignature - each section can be BASE64URL decoded to read further."]}),"\n",(0,s.jsx)(t.p,{children:"Doordeck understands the following OpenID fields in the auth token payload:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Field"}),(0,s.jsx)(t.th,{children:"Mandatory"}),(0,s.jsx)(t.th,{children:"Datatype"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sub"}),(0,s.jsx)(t.td,{children:"Yes"}),(0,s.jsxs)(t.td,{children:["String ",(0,s.jsx)(t.code,{children:"<="})," 1024 bytes"]}),(0,s.jsx)(t.td,{children:"Unique identifier for the user"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"iss"}),(0,s.jsx)(t.td,{children:"Yes"}),(0,s.jsx)(t.td,{children:"URI"}),(0,s.jsx)(t.td,{children:"URI of application responsible for issuing this token"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"exp"}),(0,s.jsx)(t.td,{children:"Yes"}),(0,s.jsx)(t.td,{children:"Epoch Timestamp"}),(0,s.jsx)(t.td,{children:"Timestamp in seconds at when this token will be considered invalid"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"iat"}),(0,s.jsx)(t.td,{children:"Yes"}),(0,s.jsx)(t.td,{children:"Epoch Timestamp"}),(0,s.jsx)(t.td,{children:"Timestamp in seconds when this token was issued and the data within loaded"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"auth_time"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"Epoch Timestamp"}),(0,s.jsx)(t.td,{children:"Timestamp in seconds when the user last authenticated"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"aud"}),(0,s.jsx)(t.td,{children:"Yes"}),(0,s.jsx)(t.td,{children:"URI or list of URIs"}),(0,s.jsxs)(t.td,{children:["Must include ",(0,s.jsx)(t.a,{href:"https://api.doordeck.com",children:"https://api.doordeck.com"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sid"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Session identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"email"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"User's email address"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"email_verified"}),(0,s.jsx)(t.td,{children:"No (Defaults to false)"}),(0,s.jsx)(t.td,{children:"Boolean"}),(0,s.jsx)(t.td,{children:"Flag to specify if the user's email has been verified"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"telephone"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.twilio.com/docs/glossary/what-e164",children:"E.164"})}),(0,s.jsx)(t.td,{children:"User's phone number"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"telephone_verified"}),(0,s.jsx)(t.td,{children:"No (Defaults to false)"}),(0,s.jsx)(t.td,{children:"Boolean"}),(0,s.jsx)(t.td,{children:"Flag to specify if the user's phone number has been verified"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"locale"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html",children:"BCP  47"})}),(0,s.jsx)(t.td,{children:"User's locale (e.g. en-US)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"zoneinfo"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"Timezone"})}),(0,s.jsx)(t.td,{children:"Timezone of user, e.g. Europe/London"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"name"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"User's full name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"family_name"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"User's family name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"middle_name"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"User's middle name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"given_name"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"User's given name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"picture"}),(0,s.jsx)(t.td,{children:"No"}),(0,s.jsx)(t.td,{children:"URI"}),(0,s.jsx)(t.td,{children:"User's profile picture"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["Authentication tokens can be issued directly by Doordeck using the ",(0,s.jsx)(t.a,{href:"/cloud-api/account/login-v2",children:"login"})," endpoint or by third-party\napplication developers using pre-registered asymmetric authentication keys."]})]})}function a(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var i=n(6540);const s={},d=i.createContext(s);function r(e){const t=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);